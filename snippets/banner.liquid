{% if banner_settings.banner_image != blank or banner_settings.heading != blank or banner_settings.subheading != blank %}
{% liquid
    assign overlay_background = banner_settings.overlay_color
    if banner_settings.overlay_gradient != blank
      assign overlay_background = banner_settings.overlay_gradient
    endif  
    assign uppercase_font_subheading = false
    assign bolder_font_subheading = false
    if settings.typography_preset == 'custom'
        if banner_settings.subheading_size == 'default'
            if settings.uppercase_label
                    assign uppercase_font_subheading = true
            endif
            if settings.bolder_font_label
                    assign bolder_font_subheading = true
            endif
        endif
    endif
    assign uppercase_font_heading = false
    assign bolder_font_heading = false
    if settings.typography_preset == 'custom'
        if banner_settings.heading_size == 'default'
            if settings.uppercase_label
                    assign uppercase_font_heading = true
            endif
            if settings.bolder_font_label
                    assign bolder_font_heading = true
            endif
        endif
    endif
%}
<div class="banner-block banner-block-{{ block_id }}{% if banner_settings.banner_style == 'overlay' %} banner-block--overlay{% endif %}" {{ banner_block.shopify_attributes }}>
    {% style %}
        .banner-block-{{ block_id }} {
            --vertical-aligment: {{ banner_settings.vertical_text_alignment }};
            --horizontal-aligment: {{ banner_settings.horizontal_text_alignment }};
            --overlay-background: {{ overlay_background }};
            --overlay-opacity: {{ banner_settings.overlay_opacity | divided_by: 100.0 }};
            --content-color: {{ banner_settings.banner_content_color }};
            --layout-text-color: 
            {{ settings.layout_text_color.red }},
            {{ settings.layout_text_color.green }}, 
            {{ settings.layout_text_color.blue }};
            --layout-background-color: 
            {{ settings.layout_background_color.red }},
            {{ settings.layout_background_color.green }},
            {{ settings.layout_background_color.blue }};
        }
    {% endstyle %}
    <{% if banner_settings.banner_link != blank %}a{% else %}div{% endif %} class="block__banner-link"{% if banner_settings.banner_link != blank %} href="{{ banner_settings.banner_link }}"{% else %} role="link" aria-disabled="true"{% endif %}>
        <div class="block__banner-image ratio-{{ banner_settings.image_ratio }}" {% if settings.disable_right_click %}oncontextmenu="return false"{% endif %}>
            {%- if banner_settings.banner_image != blank -%}
            {% if settings.images_loading != 'disable' %}
                <figure class="lazy-image lazy-image--absolut lazy-image--{{ settings.images_loading }}" style="--desktop-asp-rat: {{ banner_settings.banner_image.aspect_ratio }};">
            {% endif %}
                <img srcset="{%- if banner_settings.banner_image.image.width >= 165 -%}{{ banner_settings.banner_image.image | image_url: width: 165 }} 165w,{%- endif -%}
                {%- if banner_settings.banner_image.image.width >= 375 -%}{{ banner_settings.banner_image.image | image_url: width: 375 }} 375w,{%- endif -%}
                {%- if banner_settings.banner_image.image.width >= 550 -%}{{ banner_settings.banner_image.image | image_url: width: 550 }} 550w,{%- endif -%}
                {%- if banner_settings.banner_image.image.width >= 750 -%}{{ banner_settings.banner_image.image | image_url: width: 750 }} 750w,{%- endif -%}
                {%- if banner_settings.banner_image.image.width >= 1100 -%}{{ banner_settings.banner_image.image | image_url: width: 1100 }} 1100w,{%- endif -%}
                {%- if banner_settings.banner_image.image.width >= 1500 -%}{{ banner_settings.banner_image.image | image_url: width: 1500 }} 1500w,{%- endif -%}
                {{ banner_settings.banner_image.image | image_url }} {{ banner_settings.banner_image.image.width }}w" src="{{ banner_settings.banner_image.image | image_url: height: block.banner_image.image.width }}" 
                loading="lazy"
                {% if settings.images_loading != 'disable' %}
                    onload="this.parentNode.classList.add('lazyloaded');"
                {% endif %}
                draggable="false"
                width="{{ banner_settings.banner_image.image.width }}" 
                height="{{ banner_settings.banner_image.image.height }}" 
                sizes="600px"
                alt="{{ banner_settings.banner_image.image.alt | default: shop.name | escape }}" 
                class="image__item"
                style="object-position: {{ banner_settings.banner_image.image.presentation.focal_point }}"/>
            {% if settings.images_loading != 'disable' %}
                {% if settings.images_loading != 'fade_scale' %}
                <div class="lazy-image__preloader lazy-image__preloader-{{ settings.images_loading }}" aria-hidden="true">
                    <img 
                    alt="{{ banner_settings.banner_image.image.alt | escape }}" 
                    src="{{ banner_settings.banner_image.image | image_url: width: 10 }}"
                    draggable="false"
                    width="10" 
                    height="10">
                </div>
                {% endif %}
                </figure>
                {% endif %}
            {% else %}
                {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
            {%- endif -%}
        </div>
        {% if banner_settings.banner_style == 'overlay' %}
        {%- if banner_settings.subheading != blank or banner_settings.heading != blank -%}
            <div class="block__banner-content {% if banner_settings.horizontal_text_alignment == "center" %}block__banner-content--center{% endif %}">
                <div class="block__banner-content-container">
                {% if banner_settings.subheading != blank %}<h6 class="block__banner-subheading block__banner-subheading--{{ settings.typography_preset }} {% if banner_settings.subheading_size != 'default' %}{{ banner_settings.subheading_size }}{% else %}{% if uppercase_font_subheading %} uppercase{% endif %}{% if bolder_font_subheading %} bolder-font{% endif %}{% endif %}">{{ banner_settings.subheading }}</h6>{% endif %}
                {% if banner_settings.heading != blank %}<h5 class="block__banner-heading block__banner-heading--{{ settings.typography_preset }} {% if banner_settings.heading_size != 'default' %}{{ banner_settings.heading_size }}{% else %}{% if uppercase_font_heading %} uppercase{% endif %}{% if bolder_font_heading %} bolder-font{% endif %}{% endif %}">{{ banner_settings.heading }}</h5>{% endif %}
                </div>
            </div>
        {%- endif -%}
        {% endif %}
    </{% if banner_settings.banner_link != blank %}a{% else %}div{% endif %}>
    {% if banner_settings.banner_style == 'below' %}
        {%- if banner_settings.subheading != blank or banner_settings.heading != blank -%}
            <div class="block__banner-content {% if banner_settings.horizontal_text_alignment == "center" %}block__banner-content--center{% endif %}">
                <div class="block__banner-content-container">
                {% if banner_settings.subheading != blank %}<h6 class="block__banner-subheading block__banner-subheading--{{ settings.typography_preset }} {% if banner_settings.subheading_size != 'default' %}{{ banner_settings.subheading_size }}{% else %}{% if uppercase_font_subheading %} uppercase{% endif %}{% if bolder_font_subheading %} bolder-font{% endif %}{% endif %}">{{ banner_settings.subheading }}</h6>{% endif %}
                {% if banner_settings.heading != blank %}<h5 class="block__banner-heading block__banner-heading--{{ settings.typography_preset }} {% if banner_settings.heading_size != 'default' %}{{ banner_settings.heading_size }}{% else %}{% if uppercase_font_heading %} uppercase{% endif %}{% if bolder_font_heading %} bolder-font{% endif %}{% endif %}">{{ banner_settings.heading }}</h5>{% endif %}
                </div>
            </div>
        {%- endif -%}
    {% endif %}
</div>
{% endif %}