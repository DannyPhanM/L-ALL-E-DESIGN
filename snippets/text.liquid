{% if text_settings.text_subheading != blank or text_settings.text_content != blank %}
    {% liquid
        assign uppercase_font_subheading = false
        assign bolder_font_subheading = false
        assign uppercase_font = false
        assign bolder_font = false
        if settings.typography_preset == 'custom' 
            if text_settings.subheading_size == 'default'
                if settings.uppercase_body_s
                        assign uppercase_font_subheading = true
                endif
                if settings.bolder_font_body_s
                        assign bolder_font_subheading = true
                endif
            endif  
            if text_settings.text_size == 'default'
                if settings.uppercase_body_s
                        assign uppercase_font = true
                endif
                if settings.bolder_font_body_s
                        assign bolder_font = true
                endif
            endif  
        endif
    %}
<div class="block-{{ for_loop.index }} text__block text__block--{{ section.settings.grid_columns }} text__block--{{ text_settings.block_width }} text__block--{{ text_settings.text_horizontal_alignment }}" style="--text-horizontal-alignment: {{ text_settings.text_horizontal_alignment }}; --text-vertical-alignment: {{ text_settings.text_vertical_alignment }}; --text-font-case: {{ text_settings.text_font_case }}; --item-index: {{ for_loop.index }}" {{ block_item.shopify_attributes }}>
    {{ 'text.css' | asset_url | stylesheet_tag }}
    <div class="text__container text__container--{{ text_settings.text_horizontal_alignment }} {% if section.settings.color_type == 'custom' %}color-custom{% elsif section.settings.color_type == 'invert' %}color-invert{% endif %} {% if text_settings.use_accent_color %}color-accent{% endif %}">
        {% if text_settings.text_subheading != blank %}
            <p class="text__heading text__heading--{{ settings.typography_preset }} {% if text_settings.subheading_size != 'default' %}{{ text_settings.subheading_size }}{% else %}{% if uppercase_font_subheading %} uppercase{% endif %}{% if bolder_font_subheading %} bolder-font{% endif %}{% endif %} subheading {% if settings.dim_text %}dim{% endif %}">{{ text_settings.text_subheading }}</p>
        {% endif %}
        <div class="text__content richtext {% if settings.enable_animated_underline %}richtext-link--underline{% endif %} text__content--{{ settings.typography_preset }} {% if text_settings.text_size != 'default' %}{{ text_settings.text_size }}{% else %}{% if uppercase_font %} uppercase{% endif %}{% if bolder_font %} bolder-font{% endif %}{% endif %}">{{ text_settings.text_content }}</div>
    </div>
</div>
{% endif %}